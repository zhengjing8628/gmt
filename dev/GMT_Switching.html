
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

    <title>Switching between different GMT versions &#8212; GMT 6.0.0 documentation</title>

<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"/>


    <link rel="stylesheet" href="_static/rtd.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="_static/searchtools.js"></script>
    <script type="text/javascript" src="_static/rtd-sidebar.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
  <li><a href="/projects/gmt/wiki/Documentation">Project Home</a>  &#187;</li>
  
        <li class="nav-item nav-item-0"><a href="index.html">GMT 6.0.0 documentation</a> &#187;</li>

<li class="right">
<form class="search" accept-charset="UTF-8" action="search.html" method="get">
  <div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="✓"></div>
  <label for="q">
    <a class="search" href="search.html" accesskey="s" original-title="">Search:</a>
  </label>
  <input accesskey="f" class="small" id="q" name="q" size="20" type="text">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form></li>
   

      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="switching-between-different-gmt-versions">
<h1>Switching between different GMT versions<a class="headerlink" href="#switching-between-different-gmt-versions" title="Permalink to this headline">¶</a></h1>
<p>We encourage all GMT users to start using version 5 immediately; it
has been tested extensively by the GMT team and has benefitted from
bug reports for the 4.5.x versions. Users who still worry about the new
version breaking things may install GMT 4.5.x and 5 side by side.</p>
<p>Because GMT 5 is backwards compatible with the 4.5.x series
(provided you configured it that way) yet maintains its parameters and
history in separate files (e.g. <code class="docutils literal notranslate"><span class="pre">.gmtdefaults4</span></code>, versus <code class="docutils literal notranslate"><span class="pre">gmt.conf</span></code>)
it is possible to install and use both versions on the same workstation.
Switching between different GMT versions can be accomplished in several
ways, two of which will be addressed here:</p>
<ol class="arabic simple">
<li>By using the <a class="reference internal" href="gmtswitch.html"><span class="doc">gmtswitch</span></a> utility to select the current working version.
<strong>Pro:</strong> easy, interactive way to switch versions on the command line; works with
previous GMT syntax. <strong>Con:</strong> editing of shell startup files required; needs write
access in <code class="docutils literal notranslate"><span class="pre">$HOME</span></code>-directory; manual intervention necessary if symlink
<code class="docutils literal notranslate"><span class="pre">$HOME/this_gmt</span></code> is broken.</li>
<li>By using the recommended <code class="docutils literal notranslate"><span class="pre">gmt</span> <span class="pre">&lt;module&gt;</span></code>-syntax in conjunction with a shell
helper function that points to the desired GMT executable. <strong>Pro:</strong> no need to
create symlinks and edit shell startup files; scripts are more portable.
<strong>Con:</strong> different syntax required.</li>
</ol>
<div class="section" id="setup-of-gmtswitch">
<h2>Setup of gmtswitch<a class="headerlink" href="#setup-of-gmtswitch" title="Permalink to this headline">¶</a></h2>
<p>Run <a class="reference internal" href="gmtswitch.html"><span class="doc">gmtswitch</span></a> after you have finished installing all
GMT versions of interest. The first time you run <a class="reference internal" href="gmtswitch.html"><span class="doc">gmtswitch</span></a> it
will try to find all the available versions installed on your file
system. The versions found will be listed in the file <code class="docutils literal notranslate"><span class="pre">.gmtversions</span></code> in your home
directory; each line is the full path to a GMT root directory (e.g.,
/usr/local/GMT4.5.9). You may manually add or remove entries there at
any time. You are then instructed to make two changes to your
environment (the details are shell-dependent but explained by <a class="reference internal" href="gmtswitch.html"><span class="doc">gmtswitch</span></a>):</p>
<ol class="arabic simple">
<li><a class="reference internal" href="gmtswitch.html"><span class="doc">gmtswitch</span></a> creates and maintains a symbolic link <code class="docutils literal notranslate"><span class="pre">this_gmt</span></code> in your home
directory that will point to a directory with one of the installed
GMT versions.</li>
<li>Make sure <code class="docutils literal notranslate"><span class="pre">$HOME/this_gmt/bin</span></code> is in your executable PATH.</li>
</ol>
<p>Make those edits, logout, and login again. The next time you
run <a class="reference internal" href="gmtswitch.html"><span class="doc">gmtswitch</span></a> you will be able to switch between versions. Typing
<a class="reference internal" href="gmtswitch.html"><span class="doc">gmtswitch</span></a> with no argument will list the available versions in a
numerical menu and prompt you to choose one, whereas <a class="reference internal" href="gmtswitch.html"><span class="doc">gmtswitch</span></a>
<em>version</em> will immediately switch to that version (<em>version</em> must be a
piece of unique text making up the full path to a version, e.g., 4.5.9).
If you use <strong>bash</strong>, <strong>tcsh</strong>, or <strong>csh</strong> you may have to type <code class="docutils literal notranslate"><span class="pre">hash</span> <span class="pre">-r</span></code> or
<code class="docutils literal notranslate"><span class="pre">rehash</span></code> to initiate the path changes.</p>
<p>On Windows, the process is somewhat similar. The GMT bin directory has one batch file
<code class="docutils literal notranslate"><span class="pre">gmtswitch.bat</span></code> that works by changing the Windows PATH variable so that the BIN
directory of the preferred version always comes first. To do that the batch works in two
alternative modes.</p>
<ol class="arabic simple">
<li>Permanent mode</li>
<li>Temporary mode</li>
</ol>
<p>The permanent mode makes use of the free executable program <a class="reference external" href="http://www.softpedia.com/get/Tweak/Registry-Tweak/EditPath.shtml">EditPath</a>
to change the user path in the registry. It’s called permanent because the changes
remains until … next change.
Off course the editpath.exe binary must be in your system’s path as well.
WARNING: The path change will not be visible on the shell cmd where it was executed.
For the change to be active you will need to open a new cmd window.</p>
<p>The second mode is temporary because the path to the selected GMT binary dir is
prepended to previous path via a shell command line. This modification disappears
when the shell cmd window where it was executes is deleted.</p>
<p>For further details the user should read the entire help section at the header of the
<code class="docutils literal notranslate"><span class="pre">gmtswitch.bat</span></code>.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">gmtswitch.bat</span></code> solution, however, has the drawback that the batch file must be located
elsewhere and in a directory that is on the user’s PATH, otherwise it won’t be located after
first use unless the other GMT bin directory has a similar batch file. A better solution is to install the
<a class="reference external" href="http://sourceforge.net/projects/console">Windows console enhancement</a>
that includes multiple tabs and configure the different tabs to start the different GMT versions.
All it takes is in the Tab setting to call a batch that modifies the PATH locally. That PATH
modifying batch will have a single line with something like:</p>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">set</span> <span class="n">path</span><span class="o">=</span><span class="n">C</span><span class="p">:</span>\<span class="n">programs</span>\<span class="n">gmt5</span>\<span class="nb">bin</span><span class="p">;</span><span class="o">%</span><span class="n">PATH</span><span class="o">%</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="version-selection-with-helper-function">
<h2>Version selection with helper function<a class="headerlink" href="#version-selection-with-helper-function" title="Permalink to this headline">¶</a></h2>
<p>A shell function can be used as a wrapper around the gmt executable. This even
works when a gmt application is in the search PATH as it would shadow the real
command. This method can easily be applied on the command line or in scripts
when the recommended <code class="docutils literal notranslate"><span class="pre">gmt</span> <span class="pre">&lt;module&gt;</span></code>-syntax is used. Shell scripts using
old-style GMT commands would have to be converted first. The syntax conversion
can be accomplished with the <a class="reference internal" href="gmt5syntax.html"><span class="doc">gmt5syntax</span></a> utility. A suitable bash wrapper
function for GMT 5 would look like this:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="k">function</span> gmt<span class="o">()</span> <span class="o">{</span> /path/to/gmt5/bin/gmt <span class="s2">&quot;</span><span class="nv">$@</span><span class="s2">&quot;</span><span class="p">;</span> <span class="o">}</span>
<span class="nb">export</span> -f gmt
</pre></div>
</div>
<p>Exporting the function is necessary to make it available to subshells and
scripts. This wrapper function can be either set in your working shell or
inside a GMT shell script. The latter is useful to switch to a certain GMT
version on a per-script basis.</p>
<p>For GMT releases prior to GMT 5 which only provide the module commands,
we need a slightly modified version of the wrapper script:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="k">function</span> gmt<span class="o">()</span> <span class="o">{</span> <span class="nv">module</span><span class="o">=</span><span class="nv">$1</span><span class="p">;</span> shift<span class="p">;</span> /path/to/gmt4/bin/<span class="si">${</span><span class="nv">module</span><span class="si">}</span> <span class="s2">&quot;</span><span class="nv">$@</span><span class="s2">&quot;</span><span class="p">;</span> <span class="o">}</span>
<span class="nb">export</span> -f gmt
</pre></div>
</div>
<p>On the command line this might be too much typing to switch between
versions. So we might as well put everything together in a script file
<code class="docutils literal notranslate"><span class="pre">gmtfun</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="k">case</span> <span class="nv">$1</span> in
  <span class="m">4</span><span class="o">)</span>
  <span class="k">function</span> gmt<span class="o">()</span> <span class="o">{</span>
    <span class="nv">module</span><span class="o">=</span><span class="nv">$1</span><span class="p">;</span> shift<span class="p">;</span> /path/to/gmt4/bin/<span class="si">${</span><span class="nv">module</span><span class="si">}</span> <span class="s2">&quot;</span><span class="nv">$@</span><span class="s2">&quot;</span>
  <span class="o">}</span>
  <span class="p">;;</span>
  <span class="m">5</span><span class="o">)</span>
  <span class="k">function</span> gmt<span class="o">()</span> <span class="o">{</span>
    /path/to/gmt5/bin/gmt <span class="s2">&quot;</span><span class="nv">$@</span><span class="s2">&quot;</span>
  <span class="o">}</span>
  <span class="p">;;</span>
  *<span class="o">)</span>
  <span class="k">return</span>
  <span class="p">;;</span>
<span class="k">esac</span>
<span class="nb">export</span> -f gmt
</pre></div>
</div>
<p>Source the file with either <code class="docutils literal notranslate"><span class="pre">.</span> <span class="pre">gmtfun</span> <span class="pre">4</span></code> or <code class="docutils literal notranslate"><span class="pre">.</span> <span class="pre">gmtfun</span> <span class="pre">5</span></code> to switch
between versions.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Switching between different GMT versions</a><ul>
<li><a class="reference internal" href="#setup-of-gmtswitch">Setup of gmtswitch</a></li>
<li><a class="reference internal" href="#version-selection-with-helper-function">Version selection with helper function</a></li>
</ul>
</li>
</ul>

  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/GMT_Switching.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
  <li><a href="/projects/gmt/wiki/Documentation">Project Home</a>  &#187;</li>
  
        <li class="nav-item nav-item-0"><a href="index.html">GMT 6.0.0 documentation</a> &#187;</li>

<li class="right">
<form class="search" accept-charset="UTF-8" action="search.html" method="get">
  <div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="✓"></div>
  <label for="q">
    <a class="search" href="search.html" accesskey="s" original-title="">Search:</a>
  </label>
  <input accesskey="f" class="small" id="q" name="q" size="20" type="text">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form></li>
   

      </ul>
    </div>
<div class="footer">
    &copy; Copyright 2019, P. Wessel, W. H. F. Smith, R. Scharroo, J. Luis, and F. Wobbe.
  Last updated on Feb 15, 2019.
  Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.8.4.
  <br />Theme based on <a href="http://readthedocs.org/">Read The Docs</a>

</div>


  </body>
</html>